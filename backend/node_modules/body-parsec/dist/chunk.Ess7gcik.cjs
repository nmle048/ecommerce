"use strict";Object.defineProperty(exports, "__esModule", {value: true});// src/index.ts


var _querystring = require('querystring');
var _events = require('events');
const parsec = (fn) => async (req, _res) => {
  const body = await _events.once.call(void 0, req, "data").then((data) => {
    return fn(data);
  });
  req.body = body;
  await _events.once.call(void 0, req, "end");
};
const json = () => async (req, _res, next) => {
  await parsec((x) => JSON.parse(x.toString()))(req, _res);
  next == null ? void 0 : next();
};
const raw = () => async (req, _res, next) => {
  await parsec((x) => x)(req, _res);
  next == null ? void 0 : next();
};
const text = () => async (req, _res, next) => {
  await parsec((x) => x.toString())(req, _res);
  next == null ? void 0 : next();
};
const form = () => async (req, _res, next) => {
  await parsec((x) => _querystring.parse.call(void 0, x.toString()))(req, _res);
  next == null ? void 0 : next();
};







exports.parsec = parsec; exports.json = json; exports.raw = raw; exports.text = text; exports.form = form;
